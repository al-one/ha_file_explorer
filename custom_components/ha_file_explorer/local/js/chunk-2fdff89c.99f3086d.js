(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fdff89c"],{"0a94":function(e,t,a){},abc6:function(e,t,a){"use strict";a("0a94")},b29d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:e.backClick}},[a("v-icon",[e._v("mdi-keyboard-backspace")])],1),e._v(" "+e._s(e.name)+" ")],1),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.showSave,expression:"showSave"}],attrs:{text:""},on:{click:e.saveClick}},[a("v-icon",[e._v("mdi-content-save")]),e._v("保存 ")],1),a("v-btn",{attrs:{dark:"",icon:""},on:{click:e.toggleSidebar}},[a("v-icon",[e._v(e._s(e.showSidebar?"mdi-menu-open":"mdi-menu"))])],1)],1),a("div",{staticStyle:{width:"100%",height:"calc(100vh - 65px)","padding-top":"2px"},attrs:{id:"editor-panel"}})],1)},o=[],i=a("1c03"),c=(a("389c"),a("9896"),a("c34a"),a("5720"),a("147f"),a("7736")),r={data:function(){return{showSave:!1,loading:!1,name:""}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["getFilePath"])),Object(c["e"])(["showSidebar"])),activated:function(){this.loadData()},beforeRouteEnter:function(e,t,a){a((function(e){document.addEventListener("keydown",e.autoSaveKeydown,!1)}))},beforeRouteLeave:function(e,t,a){document.removeEventListener("keydown",this.autoSaveKeydown),a()},methods:Object(i["a"])(Object(i["a"])({},Object(c["d"])(["toggleSidebar"])),{},{loadData:function(){var e=this,t=this.$route.params.name;if(!t)return this.$router.back();this.name=t,this.$nextTick((function(){e.showSave=!1,document.querySelector("#editor-panel").innerHTML='<pre id="editor" style="width:100%;height:100%;" ></pre>',window.ha.post({type:"get-content",path:e.getFilePath(t)}).then((function(a){var n=a.code,o=a.data,i=a.msg;if(n>0)return e.$toast(i);document.querySelector("#editor").textContent=o;var c=t.split("."),r="text";c.length>1&&(r=c[c.length-1].toLocaleLowerCase()),["js","ts","jsx"].includes(r)&&(r="javascript"),["py","pyc"].includes(r)&&(r="python");var s="ace/mode/".concat(r);window.editor=window.ace.edit("editor",{theme:"ace/theme/chrome",mode:s}),e.showSave=!0,document.body.scrollIntoView()}))}))},saveClick:function(){var e=this;if(!this.loading){this.loading=!0;var t=window.editor.getValue();window.ha.post({type:"new-file",path:this.getFilePath(this.name),data:t}).then((function(t){e.$toast(t.msg)})).finally((function(){e.loading=!1}))}},autoSaveKeydown:function(e){e.ctrlKey&&"s"===e.key&&(this.$toast("正在保存中..."),this.saveClick(),e.preventDefault())},backClick:function(){this.$router.back()}})},s=r,d=(a("abc6"),a("4ac2")),l=a("7aad"),u=a.n(l),h=a("ac58"),v=a("0199"),p=a("2eda"),w=a("fc0d"),f=Object(d["a"])(s,n,o,!1,null,"5e727426",null);t["default"]=f.exports;u()(f,{VAppBar:h["a"],VBtn:v["a"],VIcon:p["a"],VSpacer:w["a"]})}}]);
//# sourceMappingURL=chunk-2fdff89c.99f3086d.js.map